language: python
python: '3.6'
services: "-postgresql"
env:
  global:
    - secure: c94tuWIiO+H6AG3EhpEV7oQwaWDfe4rPOaXsksZuzSJeCyuKWtW+l5VDOfUZSw99c69k+nMYB/yj1mXzcTaX6WHNeXnz8XG9lN7FIp45DGrUhnaLSgy/3kYniexYpH+HKDaO2MzgINZYqbCJdmpO4loBora0zuSeG3h2jT4BlJm/Mm4du2/q4K2PtDab+npcQ91H7TGXhFtDZ9jiqjOuKZokwgxdBWdhRApD0ROS7w1X9DpLaRE15SAsMnUJnOypqmV3DEG8xJ511IDF+QkrWTZjbHvzNBtmq2XuSrkRD9mUREo4L/iOrnnTD9+wIOUflTDo3fROFe4fpWYsQMXRCNIvBW6IPpQtG4/o1TzgbKZJNXrPnjB0i1/bTb9c3iR+jDsKLuECAP80eI87JYy0Qz0dskTJcw1HhoNgFoIruyEuPTcoss3DcxWaZ9/RIXJhMWEeyJ2my2rdIqOsF/kihFHvKB1rLco6ZwYeR2w6bPVW0Oj8og21tXzLncFLS/iqcawoq+HEtivs+9OuxQtnsiliWnSzBMQnyPPfnq7qPdMVBjWH46Aa/Gyvj/arOunUGMazolBk5fKpPSstktW7Z7kHPQc5e50miYT9Q/JV3w9xEohlCtWNOmbJHRdy9HcAwQLHXLg+QRrutxeMJSLeXNuGVsi8D01V3nh1OwISSpw=
before-install:
- sudo apt-get update
install:
- pip install -r requirements/development.txt
before_script:
- psql -c 'create database travis_ci_test_db;' -U postgres
script:
- export DJANGO_SETTINGS_MODULE=pingit_clone.settings.testing
- cd pingit_clone/
- python manage.py makemigrations banking
- python manage.py makemigrations customers
- python manage.py migrate banking
- python manage.py migrate customers
- pytest
